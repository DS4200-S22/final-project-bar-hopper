<!DOCTYPE html>
<meta charset="utf-8">

<!-- Load d3.js -->
<!-- <script src="https://d3js.org/d3.v6.js"></script> -->
<script src='lib/d3.v6.1.1/d3.min.js'></script>
<script src="https://d3js.org/d3-geo-projection.v3.min.js"></script>
<!-- <script src='js/map.js'></script> -->

<!-- Create an element where the map will take place -->
<svg id="my_dataviz" width="800" height="600"></svg>

<script>
    // The svg
    const svg = d3.select("svg"),
        width = +svg.attr("width"),
        height = +svg.attr("height");

    // Map and projection. Try:  d3.geoAiry() / d3.geoAitoff() / d3.geoArmadillo() / d3.geoAugust() / d3.geoAzimuthalEqualArea() / d3.geoAzimuthalEquidistant() and more
    // const projection = d3.geoAitoff()
    // d3.geoMercator
    // const projection = d3.geoConicEqualArea()
    //     .center([42.3601, 71.0589])
    //     .fitSize([400, 300], )
    // .scale(300)
    // .scale(width / 1.3 / Math.PI)
    // .translate([width / 2, height / 2])

    // Load external data and boot
    d3.json("../data/boston.geojson").then(function(data) {

        console.log(data)

        const projection = d3.geoMercator()
            .center([42.3601, 71.0589]) // Center on center of Boston
            .fitSize([800, 600], data); // Fit data to map size

        // Draw the map
        svg.append("g")
            .selectAll("path")
            .data(data.features)
            .join("path")
            .attr("fill", "#69b3a2")
            .attr("d", d3.geoPath()
                .projection(projection)
            )
            .style("stroke", "#fff")
    })

    // // Load external data and boot
    // d3.json("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson").then(function(data) {

    //     console.log(data)
    //         // Draw the map
    //     svg.append("g")
    //         .selectAll("path")
    //         .data(data.features)
    //         .join("path")
    //         .attr("fill", "#69b3a2")
    //         .attr("d", d3.geoPath()
    //             .projection(projection)
    //         )
    //         .style("stroke", "#fff")
    // })
</script>